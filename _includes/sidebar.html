<aside class="sidebar">

    {% if site.author_bio and site.author_name %}
    <section class="widget widget-text">
        <h2 class="widget-title">About {{ site.author_name }}</h2>
        <p>{{ site.author_bio }}</p>
    </section><!-- .widget-text -->
    {% endif %}

    <section class="widget widget-search">
        <h2 class="widget-title">Search</h2>
        <button class="sidebar-search-btn" data-search-trigger>
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
            Search posts&hellip; <kbd>&#8984;K</kbd>
        </button>
    </section><!-- .widget-search -->

    <section class="widget widget-recent-posts">
        <h2 class="widget-title">Latest Posts</h2>
        <ul class="recent-posts">
            {% assign recent = site.posts | where_exp: "p", "p.archived != true and p.book != true" %}
            {% for post in recent limit:6 %}
            <li class="recent-item"><a href="{{ site.baseurl }}{{ post.url }}">{{ post.title }}</a> <span>{{ post.date | date: "%B %-d, %Y" }}</span></li>
            {% endfor %}
        </ul><!-- .recent-posts -->
    </section><!-- .widget-recent-posts -->

    <!--Create a sorted array of tags-->
    {% capture site_tags %}{% for tag in site.tags %}{{ tag | first }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
    {% assign sortedTags = site_tags | split:',' | sort %}
    <section class="widget widget-tags">
        <h2 class="widget-title">Tags</h2>
        <div class="tagcloud">
            {% for tag in sortedTags %}
            <a href="{{ site.baseurl }}/tags/#{{ tag | cgi_escape }}">{{ tag }}</a>
            {% endfor %}
        </div><!-- .tagcloud -->
    </section><!-- .widget -->

</aside><!-- .sidebar -->
